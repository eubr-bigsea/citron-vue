<div>
    <div>
        <div class="container-fluid">
            <div class="row small-padding">
                <div id="appx">
                    <div class="col-md-2">
                        <div class="panel operation panel-primary panel-inverse">
                            <div class="panel-heading">
                                {{title}}
                            </div>
                            <div class="panel-content">
                                <div style="padding: 5px">
                                    <label>Search:</label>
                                    <input class="form-control" v-model="filterOp" v-on:keyup="filterOperations"
                                        placeholder="Informe at least 3 letters to filter"/>
                                </div>
                                <div id="menu-operations" style="height: calc(100vh - 204px); position: relative; overflow:hidden; padding-right:10px">
                                    <ul class="nav nav-list">
                                        <li class="drop-menu-item-2" v-for="group in groupedOperations">
                                            <a v-on:click="toggle"><span class="fa-caret-right fa"></span> {{ group[0] }}</a>
                                            <ul class="nav nav-list tree" :class="filtered ? 'slide-down': 'slide-up'">
                                                <div v-for="subgroup in group[1]">
                                                    <div v-if="subgroup[0].split('#')[1].length">
                                                         <ul class="nav nav-list">
                                                            <li class="drop-menu-item-3">
                                                                <a v-on:click="toggle"><span class="fa-caret-right fa"></span> {{ subgroup[0].split('#')[1] }} </a>
                                                                <ul class="nav nav-list tree" :class="filtered ? 'slide-down': 'slide-up'">
                                                                    <span v-for="op in subgroup[1]" :key="op.id">
                                                                        <toolbox-component :operation="op" />
                                                                    </span>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div v-else>
                                                        <span v-for="op in subgroup[1]">
                                                            <toolbox-component :operation="op" />
                                                        </span>
                                                    </div>
                                                </div>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7">
                        <div class="panel panel-primary panel-inverse">
                            <div class="panel-heading">
                                Workflow
                            </div>
                            <div class="panel-content">
                                <diagram-component form-container="properties-form"></diagram-component>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-inverse panel-primary lemonade-properties">
                        <div class="panel-heading">
                            Properties
                        </div>
                        <div class="panel-block" id="panel-properties">
                            <div id="properties-form" class="container" v-if="task">
                                <div>
                                    <h4 v-if="task.id">{{task.operation.name}} ({{task.id}})</h4>
                                    <fieldset v-for="form in forms">
                                        <legend>{{form.name}}</legend>
                                        <div v-for="field in form.fields">
                                            <keep-alive>
                                                <component :is="field.suggested_widget + '-component'" :field="field" :value="getValue(field.name)"></component>
                                            </keep-alive>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-inverse panel-primary lemondade-property-help">
                        <div class="panel-block">
                             <property-description-component :task="task" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row hide">
            <div class="col-md-12">
                <div style="text-align: left">
                    <small><pre><code class="python"></code></pre></small>
                </div>
                <textarea class="form-control" style="font-size:8pt" rows="10" id="save-area"></textarea>
            </div>
        </div>
    </div>
    <div v-if="errors.length > 0">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>{{errors}}</h1>
                </div>
            </div>
        </div>
    </div>
    <!--
    <div v-else>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4"></div>

                <div class="col-md-4">
                    <section class="login-form">
                        <form method="post" action="#" role="login">
                            <div class="logo">
                                <img src=""/>
                                <strong>Lemonade</strong>
                            </div>

                            <br/>
                            <input type="email" name="email" placeholder="Email" xrequired class="form-control input-lg" value="" v-model="username"/>
                            <br/>
                            <input type="password" class="form-control input-lg" id="password" placeholder="Password" xrequired="" v-model="passwd"/>
                            
                            
                            <div class="pwstrength_viewport_progress"></div>
                            
                            <br/>
                            <button type="submit" name="go" class="btn btn-lg btn-primary btn-block" @click.stop.prevent="doLogin">Sign in</button>
                        </div>
                        </form>
                    </section>  
                </div>
                <div class="col-md-4"></div>
            </div>
        </div>
    </div>
    -->